import{S as dt,i as ht,s as _t,e as h,t as k,k as E,c as _,a as u,g as D,n as T,d,f as A,E as o,I as te,b as p,J as Ue,R as st,T as Z,N as le,U as ut,h as fe,L as Be,V as ft,W as Je}from"../../chunks/vendor-3be9b650.js";function rt(t,e,l){const s=t.slice();return s[10]=e[l],s}function at(t,e,l){const s=t.slice();return s[10]=e[l],s}function ot(t,e,l){const s=t.slice();return s[10]=e[l],s}function pt(t){let e,l,s,c,i=t[3],r=[];for(let a=0;a<i.length;a+=1)r[a]=nt(ot(t,i,a));return{c(){e=h("td"),l=h("select");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=_(a,"TD",{class:!0});var f=u(e);l=_(f,"SELECT",{});var n=u(l);for(let b=0;b<r.length;b+=1)r[b].l(n);n.forEach(d),f.forEach(d),this.h()},h(){t[0].criterium===void 0&&Ue(()=>t[5].call(l)),p(e,"class","svelte-1ijdsrc")},m(a,f){A(a,e,f),o(e,l);for(let n=0;n<r.length;n+=1)r[n].m(l,null);Z(l,t[0].criterium),s||(c=le(l,"change",t[5]),s=!0)},p(a,f){if(f&8){i=a[3];let n;for(n=0;n<i.length;n+=1){const b=ot(a,i,n);r[n]?r[n].p(b,f):(r[n]=nt(b),r[n].c(),r[n].m(l,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=i.length}f&9&&Z(l,a[0].criterium)},d(a){a&&d(e),Be(r,a),s=!1,c()}}}function vt(t){let e,l=t[0].criterium+"",s;return{c(){e=h("td"),s=k(l),this.h()},l(c){e=_(c,"TD",{class:!0});var i=u(e);s=D(i,l),i.forEach(d),this.h()},h(){p(e,"class","svelte-1ijdsrc")},m(c,i){A(c,e,i),o(e,s)},p(c,i){i&1&&l!==(l=c[0].criterium+"")&&fe(s,l)},d(c){c&&d(e)}}}function nt(t){let e,l=t[10]+"",s,c,i;return{c(){e=h("option"),s=k(l),c=E(),this.h()},l(r){e=_(r,"OPTION",{});var a=u(e);s=D(a,l),c=T(a),a.forEach(d),this.h()},h(){e.__value=i=t[10],e.value=e.__value},m(r,a){A(r,e,a),o(e,s),o(e,c)},p:te,d(r){r&&d(e)}}}function mt(t){let e,l,s,c,i=t[2],r=[];for(let a=0;a<i.length;a+=1)r[a]=ct(at(t,i,a));return{c(){e=h("td"),l=h("select");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=_(a,"TD",{class:!0});var f=u(e);l=_(f,"SELECT",{});var n=u(l);for(let b=0;b<r.length;b+=1)r[b].l(n);n.forEach(d),f.forEach(d),this.h()},h(){t[0].type===void 0&&Ue(()=>t[6].call(l)),p(e,"class","svelte-1ijdsrc")},m(a,f){A(a,e,f),o(e,l);for(let n=0;n<r.length;n+=1)r[n].m(l,null);Z(l,t[0].type),s||(c=le(l,"change",t[6]),s=!0)},p(a,f){if(f&4){i=a[2];let n;for(n=0;n<i.length;n+=1){const b=at(a,i,n);r[n]?r[n].p(b,f):(r[n]=ct(b),r[n].c(),r[n].m(l,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=i.length}f&9&&Z(l,a[0].type)},d(a){a&&d(e),Be(r,a),s=!1,c()}}}function gt(t){let e,l=t[0].criterium+"",s;return{c(){e=h("td"),s=k(l),this.h()},l(c){e=_(c,"TD",{class:!0});var i=u(e);s=D(i,l),i.forEach(d),this.h()},h(){p(e,"class","svelte-1ijdsrc")},m(c,i){A(c,e,i),o(e,s)},p(c,i){i&1&&l!==(l=c[0].criterium+"")&&fe(s,l)},d(c){c&&d(e)}}}function ct(t){let e,l=t[10]+"",s,c,i;return{c(){e=h("option"),s=k(l),c=E(),this.h()},l(r){e=_(r,"OPTION",{});var a=u(e);s=D(a,l),c=T(a),a.forEach(d),this.h()},h(){e.__value=i=t[10],e.value=e.__value},m(r,a){A(r,e,a),o(e,s),o(e,c)},p:te,d(r){r&&d(e)}}}function it(t){let e,l=t[10]+"",s,c,i;return{c(){e=h("option"),s=k(l),c=E(),this.h()},l(r){e=_(r,"OPTION",{});var a=u(e);s=D(a,l),c=T(a),a.forEach(d),this.h()},h(){e.__value=i=t[10],e.value=e.__value},m(r,a){A(r,e,a),o(e,s),o(e,c)},p:te,d(r){r&&d(e)}}}function bt(t){let e,l,s,c,i,r,a,f,n,b,$,v,L,C,pe,ve,H,x=t[0].id+"",se,me,U,W,ge,be,F,ee=t[0].parent_id+"",re,Ee,P,M,Te,ye,ke,R,Y,De,je,we,B,z,Oe,Ne,G,S,Ie,J,K,Se,Le,Q,I,Ce,V,Pe,Re,Ve;function qe(m,j){return m[0].new!==!0?vt:pt}let ae=qe(t),O=ae(t);function He(m,j){return m[0].new!==!0?gt:mt}let oe=He(t),N=oe(t),X=t[1],y=[];for(let m=0;m<X.length;m+=1)y[m]=it(rt(t,X,m));return{c(){e=h("main"),l=h("div"),s=h("table"),c=h("thead"),i=h("tr"),r=h("th"),a=k("Type"),f=E(),n=h("th"),b=k("Value"),$=E(),v=h("tbody"),L=h("tr"),C=h("td"),pe=k("ID"),ve=E(),H=h("td"),se=k(x),me=E(),U=h("tr"),W=h("td"),ge=k("Parent ID"),be=E(),F=h("td"),re=k(ee),Ee=E(),P=h("tr"),M=h("td"),Te=k("Criterium"),ye=E(),O.c(),ke=E(),R=h("tr"),Y=h("td"),De=k("Type"),je=E(),N.c(),we=E(),B=h("tr"),z=h("td"),Oe=k("Label"),Ne=E(),G=h("td"),S=h("input"),Ie=E(),J=h("tr"),K=h("td"),Se=k("Ask to"),Le=E(),Q=h("td"),I=h("select");for(let m=0;m<y.length;m+=1)y[m].c();Ce=E(),V=h("button"),Pe=k("Update"),this.h()},l(m){e=_(m,"MAIN",{});var j=u(e);l=_(j,"DIV",{class:!0});var g=u(l);s=_(g,"TABLE",{class:!0});var q=u(s);c=_(q,"THEAD",{class:!0});var We=u(c);i=_(We,"TR",{});var ne=u(i);r=_(ne,"TH",{class:!0});var Fe=u(r);a=D(Fe,"Type"),Fe.forEach(d),f=T(ne),n=_(ne,"TH",{class:!0});var Me=u(n);b=D(Me,"Value"),Me.forEach(d),ne.forEach(d),We.forEach(d),$=T(q),v=_(q,"TBODY",{class:!0});var w=u(v);L=_(w,"TR",{});var ce=u(L);C=_(ce,"TD",{class:!0});var Ye=u(C);pe=D(Ye,"ID"),Ye.forEach(d),ve=T(ce),H=_(ce,"TD",{class:!0});var ze=u(H);se=D(ze,x),ze.forEach(d),ce.forEach(d),me=T(w),U=_(w,"TR",{});var ie=u(U);W=_(ie,"TD",{class:!0});var Ge=u(W);ge=D(Ge,"Parent ID"),Ge.forEach(d),be=T(ie),F=_(ie,"TD",{class:!0});var Ke=u(F);re=D(Ke,ee),Ke.forEach(d),ie.forEach(d),Ee=T(w),P=_(w,"TR",{});var de=u(P);M=_(de,"TD",{class:!0});var Qe=u(M);Te=D(Qe,"Criterium"),Qe.forEach(d),ye=T(de),O.l(de),de.forEach(d),ke=T(w),R=_(w,"TR",{});var he=u(R);Y=_(he,"TD",{class:!0});var Xe=u(Y);De=D(Xe,"Type"),Xe.forEach(d),je=T(he),N.l(he),he.forEach(d),we=T(w),B=_(w,"TR",{});var _e=u(B);z=_(_e,"TD",{class:!0});var Ze=u(z);Oe=D(Ze,"Label"),Ze.forEach(d),Ne=T(_e),G=_(_e,"TD",{class:!0});var $e=u(G);S=_($e,"INPUT",{placeholder:!0,class:!0}),$e.forEach(d),_e.forEach(d),Ie=T(w),J=_(w,"TR",{});var ue=u(J);K=_(ue,"TD",{class:!0});var xe=u(K);Se=D(xe,"Ask to"),xe.forEach(d),Le=T(ue),Q=_(ue,"TD",{class:!0});var et=u(Q);I=_(et,"SELECT",{});var tt=u(I);for(let Ae=0;Ae<y.length;Ae+=1)y[Ae].l(tt);tt.forEach(d),et.forEach(d),ue.forEach(d),w.forEach(d),q.forEach(d),Ce=T(g),V=_(g,"BUTTON",{class:!0});var lt=u(V);Pe=D(lt,"Update"),lt.forEach(d),g.forEach(d),j.forEach(d),this.h()},h(){p(r,"class","p-4 text-left font-bold"),p(n,"class","p-4 text-left font-bold"),p(c,"class","bg-gray-50"),p(C,"class","svelte-1ijdsrc"),p(H,"class","svelte-1ijdsrc"),p(W,"class","svelte-1ijdsrc"),p(F,"class","svelte-1ijdsrc"),p(M,"class","svelte-1ijdsrc"),p(Y,"class","svelte-1ijdsrc"),p(z,"class","svelte-1ijdsrc"),p(S,"placeholder","placeholder question"),p(S,"class","px-2 py-1 placeholder-gray-400 text-gray-600 relative bg-white bg-white rounded text-sm border border-gray-400 outline-none focus:outline-none focus:ring w-full"),p(G,"class","svelte-1ijdsrc"),p(K,"class","svelte-1ijdsrc"),t[0].ask_to===void 0&&Ue(()=>t[8].call(I)),p(Q,"class","svelte-1ijdsrc"),p(v,"class","divide-y divide-gray-300"),p(s,"class","table-auto min-w-full shadow-md rounded"),p(V,"class","btn btn-blue my-2 text-white svelte-1ijdsrc"),p(l,"class","my-8 mx-8")},m(m,j){A(m,e,j),o(e,l),o(l,s),o(s,c),o(c,i),o(i,r),o(r,a),o(i,f),o(i,n),o(n,b),o(s,$),o(s,v),o(v,L),o(L,C),o(C,pe),o(L,ve),o(L,H),o(H,se),o(v,me),o(v,U),o(U,W),o(W,ge),o(U,be),o(U,F),o(F,re),o(v,Ee),o(v,P),o(P,M),o(M,Te),o(P,ye),O.m(P,null),o(v,ke),o(v,R),o(R,Y),o(Y,De),o(R,je),N.m(R,null),o(v,we),o(v,B),o(B,z),o(z,Oe),o(B,Ne),o(B,G),o(G,S),st(S,t[0].name),o(v,Ie),o(v,J),o(J,K),o(K,Se),o(J,Le),o(J,Q),o(Q,I);for(let g=0;g<y.length;g+=1)y[g].m(I,null);Z(I,t[0].ask_to),o(l,Ce),o(l,V),o(V,Pe),Re||(Ve=[le(S,"input",t[7]),le(I,"change",t[8]),le(V,"click",function(){ut(t[4](t[0]))&&t[4](t[0]).apply(this,arguments)})],Re=!0)},p(m,[j]){if(t=m,j&1&&x!==(x=t[0].id+"")&&fe(se,x),j&1&&ee!==(ee=t[0].parent_id+"")&&fe(re,ee),ae===(ae=qe(t))&&O?O.p(t,j):(O.d(1),O=ae(t),O&&(O.c(),O.m(P,null))),oe===(oe=He(t))&&N?N.p(t,j):(N.d(1),N=oe(t),N&&(N.c(),N.m(R,null))),j&9&&S.value!==t[0].name&&st(S,t[0].name),j&2){X=t[1];let g;for(g=0;g<X.length;g+=1){const q=rt(t,X,g);y[g]?y[g].p(q,j):(y[g]=it(q),y[g].c(),y[g].m(I,null))}for(;g<y.length;g+=1)y[g].d(1);y.length=X.length}j&9&&Z(I,t[0].ask_to)},i:te,o:te,d(m){m&&d(e),O.d(),N.d(),Be(y,m),Re=!1,ft(Ve)}}}async function yt({page:t}){const e=t.params.id,l=t.query.get("parent_id");if(l!=null&&l.toString(),e.startsWith("create")){const s={parent_id:l,id:null,new:!0};return console.log(s.criterium),{props:{treenode:s}}}else{const s=await fetch("https://enterprise-search-develop.mytomorrows.com/v01/library/get_node",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node_id:e})});if(s.ok)return{props:{treenode:await s.json()}};throw new Error(e)}}function Et(t,e,l){let{treenode:s}=e,c=["patient","patient-nav",null],i=["BOOLEAN","FLOAT",null],r=[!0,!1];async function a(v){console.log(v);const C=await(await fetch("https://enterprise-search-develop.mytomorrows.com/v01/library/set_node",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node:v})})).json();JSON.stringify(C),setTimeout(()=>{window.location.href="/"},500)}function f(){s.criterium=Je(this),l(0,s),l(3,r)}function n(){s.type=Je(this),l(0,s),l(3,r)}function b(){s.name=this.value,l(0,s),l(3,r)}function $(){s.ask_to=Je(this),l(0,s),l(3,r)}return t.$$set=v=>{"treenode"in v&&l(0,s=v.treenode)},[s,c,i,r,a,f,n,b,$]}class kt extends dt{constructor(e){super();ht(this,e,Et,bt,_t,{treenode:0})}}export{kt as default,yt as load};
